import{f as _,m as I,A as B,d as M,u as $,h as F,a as k,b as h,o as s,c as p,w as m,F as v,t as x,e as d,l as A,n as P,k as O,_ as V,q as N,s as Q,v as R,x as w,y as G,z as S,B as z,C as E,K as J,D as T,E as D,G as W,H as K,g as j,I as Y}from"./index-8V0LDlr9.js";import{a as X}from"./sysDictApi-CcooC7wW.js";var q={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]},name:"loading-3-quarters",theme:"outlined"};const Z=q;function ee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.forEach(function(c){te(n,c,t[c])})}return n}function te(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var H=function(e,t){var a=ee({},e,t.attrs);return _(B,I(a,{icon:Z}),null)};H.displayName="Loading3QuartersOutlined";H.inheritAttrs=!1;const ne=H;var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};const oe=ae;function se(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.forEach(function(c){ce(n,c,t[c])})}return n}function ce(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var U=function(e,t){var a=se({},e,t.attrs);return _(B,I(a,{icon:oe}),null)};U.displayName="MenuFoldOutlined";U.inheritAttrs=!1;const re=U;var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};const ue=le;function ie(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.forEach(function(c){pe(n,c,t[c])})}return n}function pe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var L=function(e,t){var a=ie({},e,t.attrs);return _(B,I(a,{icon:ue}),null)};L.displayName="MenuUnfoldOutlined";L.inheritAttrs=!1;const de=L,_e="/assets/logo-4T3nURJ_.png",fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAATZJREFUSEvtlj1Ow0AQhb8JIg1loEhNBW1+RLocgTMglFwBCRHbIMQNkIjEJThBukhxUgINfRooaYLwIBeJEHi9XttKk2w9876dt28sC2s+smYeW2Dpjm+qpW3/FOUeqOfyVPUVuGAaPP3tT7a05b2D1HLBVk36QegfgOhvHQPQfwMOiwOD/WwTNr0zRB4LAUXOmXj/NMwpbfkPQC8ndEjo95N6zcBjr8oeI5COG1THfNLlJVi4AePqxm2dytfMIa1zot0Gs8u56ZL2xW9fd9BoBFQtky6QSpfJYJxWZwfG3U2vh0j8puaj2mcaDG32ZwPGKukhMoYk21okXdMYovSQ5Acmh8gakmLAuPvk5ojo+w7VCHauCAfPtnezf9pcFBxrs4fGUTj/HpYEWspsJyzZUDbgv/QHVuxRHfJ7uFkAAAAASUVORK5CYII=",me={class:"flex items-center py-9px"},he={class:"text-14px text-[var(--font-color)] cursor-pointer flex items-center"},ve={class:"ml-8px mr-6px text-[#666666] text-14px"},ge=d("img",{src:fe,class:"w-14px h-14px"},null,-1),ye=M({__name:"HeaderUser",setup(n){$();const e=F(),t=e.name;console.log("name",t);const a=k([{name:"退出登录",value:4,action:()=>{e.logout()}}]);return(c,g)=>{const u=h("a-menu-item"),o=h("a-menu"),l=h("a-dropdown");return s(),p("section",me,[_(l,null,{overlay:m(()=>[_(o,null,{default:m(()=>[(s(!0),p(v,null,P(a.value,({name:f,value:y,action:r})=>(s(),A(u,{key:y,onClick:r},{default:m(()=>[d("div",null,x(f),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:m(()=>[d("span",he,[d("span",ve,x(O(t)),1),ge])]),_:1})])}}}),be={key:0},xe={class:"my-3",style:{width:"300px"}},Ae={class:"mb-1 truncate"},Oe={__name:"HeaderAction",setup(n){const e=N(ne,{style:{fontSize:"24px"},spin:!0}),t=Q(),a=R(),c=w(()=>{const u=t.message;let o=[];return u&&u.data&&(o=JSON.parse(u.data)),a.updateAction(o),o}),g=w(()=>c.value.filter(u=>u.running).length>0);return G(()=>{t.connect(),window.onbeforeunload=()=>{t.close()}}),(u,o)=>{const l=h("a-progress"),f=h("a-spin"),y=h("a-popconfirm");return g.value?(s(),p("section",be,[_(y,{placement:"bottomRight",okText:"OK",showCancel:!1},{icon:m(()=>[]),title:m(()=>[(s(!0),p(v,null,P(c.value,r=>(s(),p("div",{key:r.action,class:"px-10px",style:{"margin-left":"-22px"}},[r.running?(s(),p(v,{key:0},[d("h4",null,x(r.actionLabel)+" (耗时:"+x(r.duration)+")",1),d("div",xe,[d("div",Ae,x(r.message),1),_(l,{percent:r.percent},null,8,["percent"])])],64)):S("",!0)]))),128))]),default:m(()=>[_(f,{indicator:O(e)},null,8,["indicator"])]),_:1})])):S("",!0)}}},ke=V(Oe,[["__scopeId","data-v-a009dfc0"]]),we={id:"header-bar"},Se={class:"flex items-center"},Me=d("img",{src:_e,alt:"",style:{width:"30px"}},null,-1),Pe={class:"menu-box"},Ce=["onClick"],Ie={class:"flex items-center"},$e=M({__name:"AppHeader",props:{title:{type:String,default:""}},setup(n){const e=z(),t=$(),a=w(()=>e.$state.menus),c=w(()=>e.$state.activeMenu),g=o=>{const{name:l,children:f}=o;e.setMenu(l,f),t.push(u(o))},u=o=>{const{path:l,children:f}=o;return l||u(f[0])};return(o,l)=>(s(),p("section",we,[d("div",Se,[Me,d("div",{class:"font-350 cursor-pointer title",onClick:l[0]||(l[0]=f=>O(t).replace("/"))},x(n.title),1),d("div",Pe,[(s(!0),p(v,null,P(a.value,f=>(s(),p("div",{class:E(["menu-item",c.value===f.name?"menu-item-active":""]),key:f.name,onClick:y=>g(f)},x(f.title),11,Ce))),128))])]),d("aside",Ie,[_(ke),_(ye,{class:"ml-12px"})])]))}});var Ee={VITE_PORT:"4000",VITE_BASE_API:"/",VITE_BASE_WS:"ws://192.168.3.100:38001/websocket/",VITE_FILE_PATH:"/",VITE_IMG_PREVIEW_PATH:"/",VITE_USE_PROXY:"false",VITE_PUBLIC_PATH:"/",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Be={id:"main-section"},He={__name:"AppMain",setup(n){const{VITE_IMAGE_PATH:e}=Ee;R();const t=a=>X(a);return(a,c)=>{const g=h("router-view"),u=h("k-global-config");return s(),p("section",Be,[_(u,{"image-url":O(e),"list-dict-by-type":t},{default:m(()=>[_(g,null,{default:m(({Component:o,route:l})=>[(s(),A(J,null,[l.meta.keepAlive?(s(),A(T(o),{key:l.name})):S("",!0)],1024)),l.meta.keepAlive?S("",!0):(s(),A(T(o),{key:l.name}))]),_:1})]),_:1},8,["image-url"])])}}},Ue=V(He,[["__scopeId","data-v-a4834f07"]]),Le={class:"flex items-center"},Te=M({__name:"SubMenu",props:{level:{type:Number,default:1},menuInfo:{type:Object,default:()=>{}}},setup(n){const e=$();return D(),(t,a)=>{const c=h("sub-menu",!0),g=h("a-menu-item"),u=h("a-sub-menu");return s(),A(u,I({key:n.menuInfo.path?n.menuInfo.path:n.menuInfo.name},t.$attrs),{title:m(()=>[d("span",Le,[d("span",null,x(n.menuInfo.title),1)])]),default:m(()=>[(s(!0),p(v,null,P(n.menuInfo.children,o=>(s(),p(v,{key:o.path?o.path:o.name},[o.children&&o.children.length?(s(),A(c,{"menu-info":o,key:o.path?o.path:o.name,level:n.level+1},null,8,["menu-info","level"])):(s(),p(v,{key:1},[o.hidden?S("",!0):(s(),A(g,{key:o.path,onClick:l=>O(e).push(o.path)},{default:m(()=>[d("span",null,x(o.title),1)]),_:2},1032,["onClick"]))],64))],64))),128))]),_:1},16)}}}),je={class:"h-[calc(100%-15px)] bg-[#FFF] mt-15px"},Ve=1,Re=M({__name:"AppSide",setup(n){const e=$(),t=W();D();const a=k(!1),c=z(),g=w(()=>c.$state.subMenu),u=k([]),o=k([]),l=()=>{a.value=!a.value},f=(y,r)=>{for(const b of y){if(r===b.path)return[b.path];if(b.children!==void 0&&b.children.length>0){let C=f(b.children,r);if(C.length>0)return[b.path?b.path:b.name,...C]}}return[]};return K(()=>t.path,y=>{let r=f(c.subMenu,y);r.length>0&&(o.value=[r[r.length-1]],u.value=r)},{immediate:!0}),(y,r)=>{const b=h("a-menu-item"),C=h("a-menu");return s(),p("section",je,[d("section",{class:E([a.value?"w-50px":"w-200px","h-[calc(100%-36px)] box-border"])},[_(C,{mode:"inline","inline-collapsed":a.value,inlineIndent:10,openKeys:u.value,"onUpdate:openKeys":r[0]||(r[0]=i=>u.value=i),selectedKeys:o.value,"onUpdate:selectedKeys":r[1]||(r[1]=i=>o.value=i)},{default:m(()=>[(s(!0),p(v,null,P(g.value,i=>(s(),p(v,{key:i.path?i.path:i.name},[i.children&&i.children.length?(s(),A(Te,{key:i.path?i.path:i.name,"menu-info":i,level:Ve},null,8,["menu-info"])):(s(),A(b,{key:i.path?i.path:i.name,onClick:De=>O(e).push(i.path)},{default:m(()=>[j(x(i.title),1)]),_:2},1032,["onClick"]))],64))),128))]),_:1},8,["inline-collapsed","openKeys","selectedKeys"])],2),d("div",{class:E(["w-[100%] h-32px flex items-center box-border border-t text-gray-500",a.value?"pl-15px":"pl-31px"])},[a.value?(s(),A(O(de),{key:0,class:"text-18px cursor-pointer",onClick:l})):(s(),p(v,{key:1},[_(O(re),{class:"text-18px cursor-pointer pr-6px",onClick:l}),j(" 收起菜单栏 ")],64))],2)])}}}),ze={class:"flex h-[calc(100vh-48px)] overflow-y-auto"},Qe=M({__name:"App",setup(n){const e=k(Y.APP.title);return(t,a)=>(s(),p(v,null,[_($e,{title:e.value},null,8,["title"]),d("section",ze,[_(Re),_(Ue,{class:"py-11px pl-11px flex-1"})])],64))}});export{Qe as default};
