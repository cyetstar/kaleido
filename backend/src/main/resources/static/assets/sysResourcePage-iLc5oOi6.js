import{s as U,c as B,d as N,e as K,A as O}from"./sysResourceApi-CDzKfU6-.js";import{d as S,E as V,a as p,b as t,L as F,o as d,c as T,f as e,w as n,k as l,N as j,g as h,l as v,O as x,P as q,_ as z}from"./index-8V0LDlr9.js";const G={class:"h-page-section"},H=S({__name:"sysResourcePage",setup(J){const{proxy:R}=V();let o=p({name:"",code:""}),r=p();const b=(s,a)=>{a(U({...s,...o.value}))},C=()=>{r.value.load(1)},k=()=>{r.value.load(1)},w=async()=>{await B([...O])&&(q.success("初始化成功!"),r.value.load(1))},u=p(),E=()=>{u.value.show()},g=s=>{s(N)},A=async s=>{const a=await K({...s,...o.value});R.$dowloadExcel(a,"系统资源")};return(s,a)=>{const m=t("h-input"),i=t("a-col"),L=t("h-form-search"),f=t("h-button"),D=t("a-space"),_=t("a-table-column"),I=t("h-table-data"),P=t("h-modal-export"),y=F("permissKey");return d(),T("section",G,[e(L,{form:l(o),"onUpdate:form":a[2]||(a[2]=c=>j(o)?o.value=c:o=c),onSearch:C,onReset:k,class:"h-form"},{default:n(()=>[e(i,{span:5},{default:n(()=>[e(m,{label:"资源名称",name:"name",value:l(o).name,"onUpdate:value":a[0]||(a[0]=c=>l(o).name=c)},null,8,["value"])]),_:1}),e(i,{span:5},{default:n(()=>[e(m,{label:"资源代码",name:"code",value:l(o).code,"onUpdate:value":a[1]||(a[1]=c=>l(o).code=c)},null,8,["value"])]),_:1})]),_:1},8,["form"]),e(D,{class:"h-btn-space"},{default:n(()=>[x((d(),v(f,{type:"primary",onClick:w},{default:n(()=>[h("初始化")]),_:1})),[[y,"sysResource:other"]]),x((d(),v(f,{onClick:E},{default:n(()=>[h("导出")]),_:1})),[[y,"sysResource:export"]])]),_:1}),e(I,{ref_key:"tableRef",ref:r,"row-key":"id",onLoadData:b},{default:n(()=>[e(_,{title:"资源类别","data-index":"type"}),e(_,{title:"资源名称","data-index":"name"}),e(_,{title:"资源代码","data-index":"code"})]),_:1},512),e(P,{ref_key:"exportRef",ref:u,onLoadColumn:g,onExport:A},null,512)])}}}),W=z(H,[["__scopeId","data-v-0f180d44"]]);export{W as default};
