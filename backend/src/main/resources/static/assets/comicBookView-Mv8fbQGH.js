import{G as V,u as F,a as i,y as I,b as t,o as n,c as _,e,f as s,w as a,a4 as N,k as r,g as h,l as z,z as u,a2 as C,t as m,F as O}from"./index-8V0LDlr9.js";import{f as S,g as D}from"./image-compressor-mN1qqc4Y.js";import{C as L}from"./comicBookForm-kcsqbpvQ.js";const R={class:"k-view-section"},q={class:"flex"},E={class:"flex-1 ml-8"},G={key:0,class:"flex"},M=e("span",{class:"mr-2"},"页数:",-1),T={class:"flex-1"},U={key:1,class:"flex"},$=e("span",{class:"mr-2"},"文件大小:",-1),j={class:"flex-1"},A={class:"flex"},H=e("span",{class:"mr-2"},"文件:",-1),J={class:"flex-1"},X={__name:"comicBookView",setup(K){const g=V();F();const o=i({});i();const d=i(),l=g.query.id,v=async()=>{S({id:l}).then(c=>{o.value=c})},x=()=>{D({id:l})},y=()=>{d.value.update(l)};return I(()=>{v()}),(c,p)=>{const f=t("h-button"),B=t("a-space"),b=t("a-page-header"),w=t("k-thumb-image"),k=t("k-logo-link");return n(),_(O,null,[e("section",R,[s(b,{title:o.value.title,onBack:p[0]||(p[0]=()=>c.$router.go(-1))},{backIcon:a(()=>[s(r(N))]),extra:a(()=>[s(B,null,{default:a(()=>[s(f,{onClick:x},{default:a(()=>[h("查看ComicInfo")]),_:1}),s(f,{onClick:y},{default:a(()=>[h("编辑")]),_:1})]),_:1})]),_:1},8,["title"]),e("section",q,[e("div",null,[o.value.id?(n(),z(w,{key:0,class:"h-poster",type:"ComicBook",style:{width:"250px"},id:o.value.id},null,8,["id"])):u("",!0)]),e("div",E,[r(C)(o.value.pageCount)?(n(),_("p",G,[M,e("span",T,m(o.value.pageCount),1)])):u("",!0),r(C)(o.value.fileSize)?(n(),_("p",U,[$,e("span",j,m(o.value.fileSizeLabel),1)])):u("",!0),e("p",A,[H,e("span",J,m(o.value.filename),1)]),e("p",null,[s(k,{type:"komga",sub:"book",id:o.value.id,class:"mr-3"},null,8,["id"]),s(k,{type:"bgm",id:o.value.bgmId,class:"mr-3"},null,8,["id"])])])])]),s(L,{ref_key:"refComicBookForm",ref:d},null,512)],64)}}};export{X as default};
