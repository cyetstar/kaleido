import{a as r,b as l,o as v,l as w,w as i,g as k,f as p,P as x}from"./index-8V0LDlr9.js";import{i as B,h as M}from"./movieBasicApi-t3o0u2-x.js";const L={__name:"movieBasicFileManage",emits:["match-success"],setup(F,{expose:c,emit:b}){const n=r([]),t=r();let a=null,s=null;const f=o=>{a=o,B({id:a}).then(e=>{s=e,t.value.show(s)})},_=o=>{M({id:a,path:s,file:o.file}).then(e=>{e?t.value.load():x.error("上传失败")})};return c({show:f}),(o,e)=>{const m=l("h-button"),u=l("a-upload"),d=l("k-file-modal");return v(),w(d,{ref_key:"refFileModal",ref:t},{footer:i(()=>[p(u,{"file-list":n.value,"onUpdate:fileList":e[0]||(e[0]=h=>n.value=h),name:"file",showUploadList:!1,"custom-request":_},{default:i(()=>[p(m,{plain:"",type:"primary"},{default:i(()=>[k("上传海报")]),_:1})]),_:1},8,["file-list"])]),_:1},512)}}};export{L as _};
