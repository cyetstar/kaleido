import{_ as O,G as D,u as R,a as g,y as U,b as r,o as u,c as d,e as b,f as e,w as t,t as s,g as l,k as _,z as v,a2 as q,F as $,l as z,n as E,P as G}from"./index-8V0LDlr9.js";import{L as F,c as P,d as j}from"./threadApi-e74Sbdoe.js";import{_ as A}from"./movieBasicFileManage-wTrkUyzx.js";import{_ as H}from"./comicSeriesFileManage-joA7-t-O.js";import"./movieBasicApi-t3o0u2-x.js";const J={class:"h-form-wrapper"},K={class:"h-form-body"},Q=["href"],W={key:0,class:"mt-5"},X=["href"],Y={key:1,class:"mt-5"},Z={key:2,class:"mt-5"},ee={__name:"threadView",setup(te){const T=D(),V=R(),w=g(),M=g(),p=T.query.id,B=g({like:"green",unlike:"red",achieve:"blue"}),a=g({}),x=async()=>{await P({id:p}).then(k=>{a.value=k})},L=()=>{w.value.show(a.value.movieBasicId)},N=()=>{M.value.show(a.value.comicSeriesId)},m=(k,o)=>{j({id:k,status:o}).then(f=>{f&&G.success("操作成功")})};return U(()=>{x()}),(k,o)=>{const f=r("h-module-title"),I=r("a-tag"),c=r("h-col"),y=r("a-form-item"),h=r("a-row"),i=r("h-button"),C=r("a-space");return u(),d($,null,[b("section",J,[b("div",K,[e(f,{title:"发布信息"}),e(h,{class:"mt-3"},{default:t(()=>[e(c,{span:24},{default:t(()=>[b("h3",null,[e(I,{color:B.value[a.value.status]},{default:t(()=>[l(s(a.value.status),1)]),_:1},8,["color"]),l(" "+s(a.value.title)+" ",1),a.value.url?(u(),d("a",{key:0,href:a.value.url,target:"_blank"},[e(_(F))],8,Q)):v("",!0)])]),_:1}),e(c,{span:8},{default:t(()=>[e(y,{label:"豆瓣编号"},{default:t(()=>[l(s(a.value.doubanId),1)]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(y,{label:"IMDb编号"},{default:t(()=>[l(s(a.value.imdbId),1)]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(y,{label:"番组计划编号"},{default:t(()=>[l(s(a.value.bgmId),1)]),_:1})]),_:1})]),_:1}),_(q)(a.value.threadList)?(u(),d("div",W,[e(f,{title:"其他发布"}),e(h,{class:"m-3",gutter:[16,16]},{default:t(()=>[(u(!0),d($,null,E(a.value.threadList,n=>(u(),z(c,{span:24},{default:t(()=>[e(I,{color:B.value[a.value.status]},{default:t(()=>[l(s(a.value.status),1)]),_:1},8,["color"]),l(" "+s(n.title)+" ",1),n.url?(u(),d("a",{key:0,href:n.url,target:"_blank"},[e(_(F))],8,X)):v("",!0),e(C,{class:"ml-3"},{default:t(()=>[e(i,{small:"",type:"success",onClick:S=>m(n.id,"like")},{default:t(()=>[l("like ")]),_:2},1032,["onClick"]),e(i,{small:"",type:"danger",onClick:S=>m(n.id,"unlike")},{default:t(()=>[l("unlike ")]),_:2},1032,["onClick"]),e(i,{small:"",type:"primary",onClick:S=>m(n.id,"achieve")},{default:t(()=>[l("achieve ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})])):v("",!0),a.value.movieBasicId?(u(),d("div",Y,[e(f,{clas:"mt-10",title:"电影信息"}),e(h,{gutter:[16,16]},{default:t(()=>[e(c,{span:24},{default:t(()=>[l(s(a.value.movieBasicTitle)+" / "+s(a.value.movieBasicOriginalTitle)+" ",1),e(C,{class:"ml-3"},{default:t(()=>[e(i,{onClick:L,small:""},{default:t(()=>[l("查看文件")]),_:1})]),_:1})]),_:1})]),_:1})])):v("",!0),a.value.comicSeriesId?(u(),d("div",Z,[e(f,{clas:"mt-10",title:"漫画信息"}),e(h,{gutter:[16,16]},{default:t(()=>[e(c,{span:24},{default:t(()=>[l(s(a.value.comicSeriesTitle)+" / "+s(a.value.comicSeriesOriginalTitle)+" ",1),e(i,{onClick:N,small:""},{default:t(()=>[l("查看文件")]),_:1})]),_:1})]),_:1})])):v("",!0),e(C,{class:"mt-5"},{default:t(()=>[e(i,{type:"success",onClick:o[0]||(o[0]=n=>m(_(p),"like"))},{default:t(()=>[l("like ")]),_:1}),e(i,{type:"danger",onClick:o[1]||(o[1]=n=>m(_(p),"unlike"))},{default:t(()=>[l("unlike ")]),_:1}),e(i,{type:"primary",onClick:o[2]||(o[2]=n=>m(_(p),"achieve"))},{default:t(()=>[l("achieve ")]),_:1}),e(i,{onClick:o[3]||(o[3]=n=>_(V).back())},{default:t(()=>[l("返回")]),_:1})]),_:1})])]),e(A,{ref_key:"refMovieBasicFileManage",ref:w},null,512),e(H,{ref_key:"refComicSeriesFileManage",ref:M},null,512)],64)}}},ie=O(ee,[["__scopeId","data-v-424ed864"]]);export{ie as default};
