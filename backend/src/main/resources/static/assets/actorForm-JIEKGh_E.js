import{a as p,b as d,o as U,l as g,w as u,k as l,f as o,N as x,ac as k,ad as y,P as f,ae as A}from"./index-8V0LDlr9.js";const R={__name:"actorForm",emits:["save-complete"],setup(I,{expose:c,emit:b}){const v=b;let r=p("create"),n=p(),e=p({id:"",doubanId:"",name:"",originalName:""});const _=()=>{r.value="create",n.value.reset(),n.value.show()},w=async s=>{r.value="update",n.value.reset(),e.value=await k({id:s}),n.value.show()},h=async()=>{try{r.value==="create"?await y(e.value)&&(f.success("操作成功"),v("save-complete"),n.value.hide()):r.value==="update"&&await A(e.value)&&(f.success("操作成功"),v("save-complete"),n.value.hide())}catch{}};return c({create:_,update:w}),(s,a)=>{const m=d("h-input"),i=d("h-col"),N=d("h-form-modal");return U(),g(N,{ref_key:"formRef",ref:n,"label-col":{span:4},width:"600px",form:l(e),"onUpdate:form":a[4]||(a[4]=t=>x(e)?e.value=t:e=t),title:"演职员",onSubmit:h},{default:u(()=>[o(i,{span:24},{default:u(()=>[o(m,{label:"姓名",value:l(e).name,"onUpdate:value":a[0]||(a[0]=t=>l(e).name=t),name:"name"},null,8,["value"])]),_:1}),o(i,{span:24},{default:u(()=>[o(m,{label:"原名",value:l(e).originalName,"onUpdate:value":a[1]||(a[1]=t=>l(e).originalName=t),name:"originalName"},null,8,["value"])]),_:1}),o(i,{span:24},{default:u(()=>[o(m,{label:"豆瓣编号",value:l(e).doubanId,"onUpdate:value":a[2]||(a[2]=t=>l(e).doubanId=t),name:"doubanId"},null,8,["value"])]),_:1}),o(i,{span:24},{default:u(()=>[o(m,{label:"头像地址",value:l(e).thumb,"onUpdate:value":a[3]||(a[3]=t=>l(e).thumb=t),name:"thumb"},null,8,["value"])]),_:1})]),_:1},8,["form"])}}};export{R as _};
